[build]
builder = "NIXPACKS"

[deploy]
startCommand = "python manage.py migrate && gunicorn smart_dorm_finder.wsgi:application"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Cron job to check payment deadlines every 30 minutes
[[crons]]
schedule = "*/30 * * * *"
command = "python manage.py check_payment_deadlines"
